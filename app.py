import streamlit as st
import random
from datetime import datetime

# ุฅุนุฏุงุฏุงุช ุงูุตูุญุฉ
st.set_page_config(
    page_title="ุฐูุงุก ุงุตุทูุงุนู - ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู",
    page_icon="๐ค",
    layout="wide"
)

# ุชุฎุตูุต ุงูุชุตููู
st.markdown("""
<style>
    .main-header {
        font-size: 3.5rem;
        color: #2E86AB;
        text-align: center;
        margin-bottom: 2rem;
        font-weight: bold;
    }
    .arabic-text {
        font-size: 1.2rem;
        text-align: right;
        direction: rtl;
    }
    .creator-name {
        font-size: 2rem;
        color: #A23B72;
        text-align: center;
        font-weight: bold;
        margin-top: 1rem;
    }
    .sidebar-header {
        text-align: center;
        font-size: 2rem;
        margin-bottom: 1rem;
    }
</style>
""", unsafe_allow_html=True)

# ุงููููุฉ ุงูุดุฎุตูุฉ
st.markdown('<div class="main-header">๐ค ุฐูุงุก ุงุตุทูุงุนู ุญุตุฑู</div>', unsafe_allow_html=True)
st.markdown('<div class="creator-name">ูู ุตูุงุนุฉ ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู</div>', unsafe_allow_html=True)

st.markdown("---")

# ุฐุงูุฑุฉ ุงููุญุงุฏุซุฉ
if "messages" not in st.session_state:
    st.session_state.messages = [
        {
            "role": "assistant", 
            "content": "ูุฑุญุจุงู ุจู! ุฃูุง ูุณุงุนุฏู ุงูุฐูู ูู ุตูุงุนุฉ **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ๐\nููู ูููููู ูุณุงุนุฏุชู ุงููููุ"
        }
    ]

# ุดุฑูุท ุฌุงูุจู ูููุนูููุงุช
with st.sidebar:
    st.markdown('<div class="sidebar-header">๐ค</div>', unsafe_allow_html=True)
    st.title("ูุนูููุงุช ุงููุทูุฑ")
    st.write("**ุงูุงุณู:** ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู")
    st.write("**ุงูุชุฎุตุต:** ุชุทููุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู")
    st.write("**ุงููููุน:** ุชุทููุฑ ููุจ ูุชููู")
    st.markdown("---")
    st.write("๐ ุชู ุงูุฅูุดุงุก ูู: {}".format(datetime.now().strftime("%Y-%m-%d")))
    
    # ุฒุฑ ุฅุนุงุฏุฉ ุงูุชุนููู
    if st.button("๐ ุฅุนุงุฏุฉ ุชุนููู ุงููุญุงุฏุซุฉ"):
        st.session_state.messages = [
            {
                "role": "assistant", 
                "content": "ูุฑุญุจุงู ุจู ูู ุฌุฏูุฏ! ุฃูุง ูุณุงุนุฏู ุงูุฐูู ูู ุตูุงุนุฉ **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ๐"
            }
        ]
        st.rerun()

# ุนุฑุถ ุชุงุฑูุฎ ุงููุญุงุฏุซุฉ
for message in st.session_state.messages:
    with st.chat_message(message["role"]):
        st.markdown(f'<div class="arabic-text">{message["content"]}</div>', unsafe_allow_html=True)

# ูุธููุฉ ุชูููุฏ ุงูุฑุฏูุฏ
def generate_response(user_input):
    """ุฏุงูุฉ ุฐููุฉ ูุชูููุฏ ุงูุฑุฏูุฏ"""
    
    # ุฑุฏูุฏ ุฐููุฉ ุจูุงุกู ุนูู ุงููุญุชูู
    if any(word in user_input.lower() for word in ['ุงุณูู', 'ูู ุงูุช', 'ูููุชู']):
        return "ุฃูุง **ุฐูุงุก ุงุตุทูุงุนู** ูู ุตูุงุนุฉ ูุชุทููุฑ **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ๐ ุฃุณุนุฏูู ุชูุงุตูู ูุนู!"
    
    elif any(word in user_input.lower() for word in ['ุดูุฑุง', 'ูุฑุญุจุง', 'ุงููุง', 'ุงูุณูุงู']):
        return "ุงูุนูู ูุง ุบุงูู! ๐ธ **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ููุฏูู ุงูุณูุงู ููุดูุฑู ุนูู ุญุณู ุชูุงุตูู!"
    
    elif any(word in user_input.lower() for word in ['ุญุจ', 'ุญุจูุจ', 'ููุจู', 'ูุฏูุช']):
        return "ุฃุญุจู ูู ุงููู ูุง ููุจู! ๐คฒ **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ูุฑุณู ูู ุชุญูุงุชู ุงูุญุงุฑุฉ!"
    
    elif any(word in user_input.lower() for word in ['ุตูุนุช', 'ุจุฑูุฌุฉ', 'ุชุทููุฑ']):
        return "ุชู ุตูุงุนู ูุชุทููุฑู ุจูุงูู ุงูุญุจ ุจูุงุณุทุฉ **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ๐ ููู ูุฎูุฑ ุจุชูุฏูู ูุฐุง ุงูุชุทุจูู ูู!"
    
    elif any(word in user_input.lower() for word in ['ููู ุญุงูู', 'ุงุฎุจุงุฑู', 'ุดููู']):
        return "ุงูุญูุฏููู ุจุฎูุฑ ูุนุงููุฉ! ๐ ุดูุฑุงู ูุณุคุงูู ุงููุทูู. **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ูุชููู ูู ููููุง ุณุนูุฏูุง!"
    
    # ุฑุฏูุฏ ุนุงูุฉ
    responses_arabic = [
        f"ุฃููุงู ุจู! ุฃูุง ูุณุงุนุฏู ุงูุฐูู ูู ุตูุงุนุฉ **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ๐\nุณุคุงูู: {user_input}",
        f"ูุง ุดุงุก ุงููู! ุณุคุงู ุฌููู ูู ุชุทููุฑ **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ๐ซ\nุฌูุงุจู: ูุฐุง ููุถูุน ููู ูุชุนูู ุจู {user_input}",
        f"ุงูุญูุฏ ููู! ุนูุฏู ุฅุฌุงุจุฉ ุฑุงุฆุนุฉ ูู ูู ุตูุงุนุฉ **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ๐ธ\nุชุนุงู ููุงูุด: {user_input}",
        f"ูุง ููุง ูุณููุง! **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ุตูุนูู ูุฃุฎุฏูู ๐\nุฑุฏู ุนูู ุณุคุงูู: {user_input}",
        f"ุชุจุงุฑู ุงูุฑุญูู! ุฃุณุฃู ุงููู ุฃู ูููู **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ๐คฒ\nุฌูุงุจู: {user_input}",
        f"ูุณุนุฏ ูุณุงู! ูู ุชุทููุฑ **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ุฌุงุกุช ูุฐู ุงูุฅุฌุงุจุฉ ๐\nุชุนุงู ูุฑู: {user_input}",
        f"ุงููู ูุจุงุฑู ููู! **ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู** ููุฏู ูู ูุฐู ุงูุฅุฌุงุจุฉ ๐ฏ\nูุงูู: {user_input}"
    ]
    
    return random.choice(responses_arabic)

# ูุฏุฎูุงุช ุงููุญุงุฏุซุฉ
if prompt := st.chat_input("ุงูุชุจ ุฑุณุงูุชู ููุง... ๐ธ"):
    # ุฅุถุงูุฉ ุฑุณุงูุฉ ุงููุณุชุฎุฏู
    st.session_state.messages.append({"role": "user", "content": prompt})
    with st.chat_message("user"):
        st.markdown(f'<div class="arabic-text">{prompt}</div>', unsafe_allow_html=True)
    
    # ุชูููุฏ ุงูุฑุฏ
    with st.chat_message("assistant"):
        with st.spinner('ุฌุงุฑู ุงูุชูููุฑ... ๐'):
            response = generate_response(prompt)
            st.markdown(f'<div class="arabic-text">{response}</div>', unsafe_allow_html=True)
    
    st.session_state.messages.append({"role": "assistant", "content": response})

# ูุณู ุฅุถุงูู ููููุฒุงุช
st.markdown("---")
st.subheader("๐ฏ ูููุฒุงุช ุงูุชุทุจูู")

col1, col2, col3 = st.columns(3)

with col1:
    st.markdown("""
    **๐ค ุงูุฐูุงุก ุงูุงุตุทูุงุนู**
    - ูุญุงุฏุซุฉ ุฐููุฉ ุจุงูุนุฑุจูุฉ
    - ุฑุฏูุฏ ูุฎุตุตุฉ ุดุฎุตูุฉ
    - ุฐุงูุฑุฉ ูุญุงุฏุซุฉ ูุชูุฏูุฉ
    - ุชูุงุนู ุทุจูุนู ูุณูุณ
    """)

with col2:
    st.markdown("""
    **๐จ ุงูุชุตููู ูุงููุงุฌูุฉ**
    - ูุงุฌูุฉ ุนุฑุจูุฉ ุฃูููุฉ
    - ุชุตููู ุนุตุฑู ูุฌุฐุงุจ
    - ุฃููุงู ูุฎุตุตุฉ ูุฑูุฏุฉ
    - ุฏุนู ูุงูู ููุนุฑุจูุฉ
    """)

with col3:
    st.markdown("""
    **โ๏ธ ุงูุชูููุงุช**
    - Python + Streamlit
    - ูุนุงูุฌุฉ ุงููุบุฉ ุงูุทุจูุนูุฉ
    - ุชุตููู ูุชุฌุงูุจ
    - ูุดุฑ ุณุญุงุจู ูุชูุฏู
    """)

# ูุนูููุงุช ุงูุชูููุฉ
st.markdown("---")
st.subheader("๐ ูุนูููุงุช ุงูุชูููุฉ")

tech_col1, tech_col2 = st.columns(2)

with tech_col1:
    st.markdown("""
    **๐จโ๐ป ุงููุทูุฑ:** ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู
    **๐ข ููุน ุงููุดุฑูุน:** ุชุทุจูู ููุจ ุฐูู
    **๐ ุงูุณุญุงุจุฉ:** Streamlit Cloud
    **๐ ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ:** 2024
    """)

with tech_col2:
    st.markdown("""
    **๐ ุงููุบุฉ:** Python
    **๐ ุงูุฅุทุงุฑ:** Streamlit
    **๐ ุงูุฐูุงุก:** ูุนุงูุฌุฉ ุงููุบุฉ
    **๐ ุงูุชุฑุฎูุต:** ููุชูุญ ุงููุตุฏุฑ
    """)

# ุชุฐููู ุงูุตูุญุฉ
st.markdown("---")
st.markdown(
    '<div style="text-align: center; color: #666; padding: 2rem;">'
    'ยฉ 2024 ุฌููุน ุงูุญููู ูุญููุธุฉ - ุชุทููุฑ ูุชุตููุน ุฃุจู ุฌูุงู ุนุจุฏุงููุงุตุฑ ุงูุดููู ๐ธ<br>'
    'ุตูุน ุจูู ุญุจ ูุฅุชูุงู ูู ุงูุนุงูู ุงูุนุฑุจู'
    '</div>', 
    unsafe_allow_html=True
)
